<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Shopping Cart - BookStore</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
    <link rel="stylesheet" href="style.css">
    <link rel="stylesheet" href="cart.css">
</head>
<body>
    <nav>
        <div class="logo">BookStore</div>
        <div class="cart_login">
            <a href="index.html">Home</a>
            <a href="reg.html">Register</a>
            <a href="login.html"><i class="fa fa-user"></i> Login</a>
            <a href="catalog.html"><i class="fa fa-book"></i> Catalog</a>
        </div>
    </nav>

    <div class="container">
        <div class="departments">
            <h3>Departments</h3>
            <ul>
                <li><a href="#" onclick="showBooks('cse')">CSE</a></li>
                <li><a href="#" onclick="showBooks('ece')">ECE</a></li>
                <li><a href="#" onclick="showBooks('mac')">MAC</a></li>
                <li><a href="#" onclick="showBooks('eee')">EEE</a></li>
            </ul>
        </div>

        <div class="cart-container">
            <h2>Your Shopping Cart</h2>

            <div class="cart-items" id="cartItems"></div>

            <div class="cart-summary">
                <h3>Order Summary</h3>
                <div class="summary-item">
                    <span>Subtotal</span>
                    <span id="subtotal">Rs. 0</span>
                </div>
                <div class="summary-item">
                    <span>Shipping</span>
                    <span>Rs 70</span>
                </div>
                <div class="summary-item total">
                    <span>Total</span>
                    <span id="total">Rs. 0</span>
                </div>
                <button class="checkout-btn">Proceed to Checkout</button>
            </div>
        </div>
    </div>

    <footer>
        <div class="footer-content">
            <div class="footer-section">
                <h3>About Us</h3>
                <p>Your trusted source for books since 2023</p>
            </div>
            <div class="footer-section">
                <h3>Contact</h3>
                <p>Email: info@bookstore.com</p>
                <p>Phone: (+91) 9044-189390</p>
            </div>
            <div class="footer-section">
                <h3>Follow Us</h3>
                <div class="social-icons">
                    <i class="fab fa-facebook"></i>
                    <i class="fab fa-twitter"></i>
                    <i class="fab fa-instagram"></i>
                </div>
            </div>
        </div>
        <div class="footer-bottom">
            <p>&copy; 2024 BookStore. All rights reserved.</p>
        </div>
    </footer>

    <script>
        function showBooks(department) {
            const books = {
                cse: [
                    {img: '3.jpeg', title: 'Book 1', price: 1555},
                    {img: '4.jpg', title: 'Book 2', price: 222},
                    {img: '5.jpg', title: 'Book 3', price: 3333}
                ],
                ece: [
                    {img: '3.jpeg', title: 'Book 4', price: 4444},
                    {img: '4.jpg', title: 'Book 5', price: 1555},
                    {img: '5.jpg', title: 'Book 6', price: 222}
                ],
                mac: [
                    {img: '3.jpeg', title: 'Book 7', price: 3333},
                    {img: '4.jpg', title: 'Book 8', price: 4444},
                    {img: '5.jpg', title: 'Book 9', price: 1555}
                ],
                eee: [
                    {img: '3.jpeg', title: 'Book 10', price: 222},
                    {img: '4.jpg', title: 'Book 11', price: 3333},
                    {img: '5.jpg', title: 'Book 12', price: 4444}
                ]
            };

            let cartHTML = '';
            let subtotal = 0;
            books[department].forEach(book => {
                cartHTML += `
                    <div class="cart-item">
                        <img src="${book.img}" alt="Book Cover">
                        <div class="item-details">
                            <h3>${book.title}</h3>
                            <p class="price">Rs. ${book.price}</p>
                        </div>
                        <div class="quantity-controls">
                            <button class="quantity-btn" onclick="updateSubtotal(-${book.price})">-</button>
                            <input type="number" value="1" min="1" onchange="updateSubtotal(${book.price})">
                            <button class="quantity-btn" onclick="updateSubtotal(${book.price})">+</button>
                        </div>
                        <button class="remove-btn" onclick="removeItem(this)">Remove</button>
                    </div>
                `;
                subtotal += book.price;
            });

            document.getElementById('cartItems').innerHTML = cartHTML;
            document.getElementById('subtotal').textContent = `Rs. ${subtotal}`;
            document.getElementById('total').textContent = `Rs. ${subtotal + 70}`;
        }

        function updateSubtotal(priceChange) {
            let subtotalElem = document.getElementById('subtotal');
            let totalElem = document.getElementById('total');
            let currentSubtotal = parseFloat(subtotalElem.textContent.replace('Rs. ', ''));
            let newSubtotal = currentSubtotal + priceChange;
            subtotalElem.textContent = `Rs. ${newSubtotal}`;
            totalElem.textContent = `Rs. ${newSubtotal + 70}`;
        }

        function removeItem(button) {
            let item = button.closest('.cart-item');
            let price = parseFloat(item.querySelector('.price').textContent.replace('Rs. ', ''));
            item.remove();
            updateSubtotal(-price);
        }
    </script>
</body>
</html>
